<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>8.2.20. _gfortran_caf_event_wait</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="_005fgfortran_005fcaf_005fevent_005fwait" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gnu_fortran"><h1 class="subsection" id="g_t_005fgfortran_005fcaf_005fevent_005fwait-_002d_002d_002d-Wait-that-an-event-occurred">8.2.20 _gfortran_caf_event_wait â€” Wait that an event occurred</h1>  <dl compact id="index-Coarray_002c-_005fgfortran_005fcaf_005fevent_005fwait"> <dt>Description:</dt> <dd>
<p>Wait until the event count has reached at least the specified <var>until_count</var>; if so, atomically decrement the event variable by this amount and return. </p> </dd> <dt>Syntax:</dt> <dd>
<p><code>void _gfortran_caf_event_wait (caf_token_t token, size_t index,
int until_count, int *stat, char *errmsg, size_t errmsg_len)</code> </p> </dd> <dt>Arguments:</dt> <dd>
<table> <tr>
<td width="15%"><var>token</var></td>
<td width="70%">intent(in) An opaque pointer identifying the coarray.</td>
</tr> <tr>
<td width="15%"><var>index</var></td>
<td width="70%">intent(in) Array index; first array index is 0. For scalars, it is always 0.</td>
</tr> <tr>
<td width="15%"><var>until_count</var></td>
<td width="70%">intent(in) The number of events which have to be available before the function returns.</td>
</tr> <tr>
<td width="15%"><var>stat</var></td>
<td width="70%">intent(out) Stores the STAT=; may be NULL.</td>
</tr> <tr>
<td width="15%"><var>errmsg</var></td>
<td width="70%">intent(out) When an error occurs, this will be set to an error message; may be NULL.</td>
</tr> <tr>
<td width="15%"><var>errmsg_len</var></td>
<td width="70%">intent(in) the buffer size of errmsg</td>
</tr> </table> </dd> <dt>NOTES</dt> <dd>
<p>This function only operates on a local coarray. It acts like a loop checking atomically the value of the event variable, breaking if the value is greater or equal the requested number of counts. Before the function returns, the event variable has to be decremented by the requested <var>until_count</var> value. A possible implementation would be a busy loop for a certain number of spins (possibly depending on the number of threads relative to the number of available cores) followed by another waiting strategy such as a sleeping wait (possibly with an increasing number of sleep time) or, if possible, a futex wait. </p> <p>The statement is an image-control statement but does not imply sync memory. Still, all preceeding push communications of this image to the specified remote image have to be completed before <code>event_wait</code> on the remote image returns. </p>
</dd> </dl>  <p class="header"> <p> Next: <a href="_005fgfortran_005fcaf_005fevent_005fquery#g_t_005fgfortran_005fcaf_005fevent_005fquery" accesskey="n" rel="next">_gfortran_caf_event_query</a>, Previous: <a href="_005fgfortran_005fcaf_005fevent_005fpost#g_t_005fgfortran_005fcaf_005fevent_005fpost" accesskey="p" rel="prev">_gfortran_caf_event_post</a>, Up: <a href="function-abi-documentation#Function-ABI-Documentation" accesskey="u" rel="up">Function ABI Documentation</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-9.3.0/gfortran/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.3.0/gfortran/_005fgfortran_005fcaf_005fevent_005fwait.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.3.0/gfortran/_005fgfortran_005fcaf_005fevent_005fwait.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>