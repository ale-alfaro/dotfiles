<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>9.185. MALLOC</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="malloc" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gnu_fortran"><h1 class="section" id="MALLOC-_002d_002d_002d-Allocate-dynamic-memory">9.185 MALLOC â€” Allocate dynamic memory</h1>   <dl compact id="index-pointer_002c-cray-1"> <dt>Description:</dt> <dd>
<p><code>MALLOC(SIZE)</code> allocates <var>SIZE</var> bytes of dynamic memory and returns the address of the allocated memory. The <code>MALLOC</code> intrinsic is an extension intended to be used with Cray pointers, and is provided in GNU Fortran to allow the user to compile legacy code. For new code using Fortran 95 pointers, the memory allocation intrinsic is <code>ALLOCATE</code>. </p> </dd> <dt>Standard:</dt> <dd>
<p>GNU extension </p> </dd> <dt>Class:</dt> <dd>
<p>Function </p> </dd> <dt>Syntax:</dt> <dd>
<p><code>PTR = MALLOC(SIZE)</code> </p> </dd> <dt>Arguments:</dt> <dd>
<table> <tr>
<td width="15%"><var>SIZE</var></td>
<td width="70%">The type shall be <code>INTEGER</code>.</td>
</tr> </table> </dd> <dt>Return value:</dt> <dd>
<p>The return value is of type <code>INTEGER(K)</code>, with <var>K</var> such that variables of type <code>INTEGER(K)</code> have the same size as C pointers (<code>sizeof(void *)</code>). </p> </dd> <dt>Example:</dt> <dd>
<p>The following example demonstrates the use of <code>MALLOC</code> and <code>FREE</code> with Cray pointers. </p> <div class="smallexample"> <pre class="smallexample">program test_malloc
  implicit none
  integer i
  real*8 x(*), z
  pointer(ptr_x,x)

  ptr_x = malloc(20*8)
  do i = 1, 20
    x(i) = sqrt(1.0d0 / i)
  end do
  z = 0
  do i = 1, 20
    z = z + x(i)
    print *, z
  end do
  call free(ptr_x)
end program test_malloc</pre>
</div> </dd> <dt>See also:</dt> <dd><p><a href="free#FREE">FREE</a> </p></dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.3.0/gfortran/MALLOC.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.3.0/gfortran/MALLOC.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>