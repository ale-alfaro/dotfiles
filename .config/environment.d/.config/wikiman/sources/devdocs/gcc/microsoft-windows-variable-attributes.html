<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>6.34.9. Microsoft Windows Variable Attributes</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="microsoft-windows-variable-attributes" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gcc"><h1 class="subsection" id="Microsoft-Windows-Variable-Attributes-1">6.34.9 Microsoft Windows Variable Attributes</h1> <p>You can use these attributes on Microsoft Windows targets. <a href="variable-attributes#x86-Variable-Attributes">x86 Variable Attributes</a> for additional Windows compatibility attributes available on all x86 targets. </p> <dl compact> <dt><code>dllimport</code></dt> <dt><code>dllexport</code></dt> <dd>  <p id="index-dllexport-variable-attribute">The <code>dllimport</code> and <code>dllexport</code> attributes are described in <a href="microsoft-windows-function-attributes#Microsoft-Windows-Function-Attributes">Microsoft Windows Function Attributes</a>. </p> </dd> <dt><code>selectany</code></dt> <dd> <p id="index-selectany-variable-attribute">The <code>selectany</code> attribute causes an initialized global variable to have link-once semantics. When multiple definitions of the variable are encountered by the linker, the first is selected and the remainder are discarded. Following usage by the Microsoft compiler, the linker is told <em>not</em> to warn about size or content differences of the multiple definitions. </p> <p>Although the primary usage of this attribute is for POD types, the attribute can also be applied to global C++ objects that are initialized by a constructor. In this case, the static initialization and destruction code for the object is emitted in each translation defining the object, but the calls to the constructor and destructor are protected by a link-once guard variable. </p> <p>The <code>selectany</code> attribute is only available on Microsoft Windows targets. You can use <code>__declspec (selectany)</code> as a synonym for <code>__attribute__ ((selectany))</code> for compatibility with other compilers. </p> </dd> <dt><code>shared</code></dt> <dd> <p id="index-shared-variable-attribute">On Microsoft Windows, in addition to putting variable definitions in a named section, the section can also be shared among all running copies of an executable or DLL. For example, this small program defines shared data by putting it in a named section <code>shared</code> and marking the section shareable: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">int foo __attribute__((section ("shared"), shared)) = 0;

int
main()
{
  /* <span class="roman">Read and write foo.  All running
     copies see the same value.</span>  */
  return 0;
}</pre>
</div> <p>You may only use the <code>shared</code> attribute along with <code>section</code> attribute with a fully-initialized global definition because of the way linkers work. See <code>section</code> attribute for more information. </p> <p>The <code>shared</code> attribute is only available on Microsoft Windows. </p> </dd> </dl>  <p class="header"> <p> Next: <a href="msp430-variable-attributes#MSP430-Variable-Attributes" accesskey="n" rel="next">MSP430 Variable Attributes</a>, Previous: <a href="mep-variable-attributes#MeP-Variable-Attributes" accesskey="p" rel="prev">MeP Variable Attributes</a>, Up: <a href="variable-attributes#Variable-Attributes" accesskey="u" rel="up">Variable Attributes</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Microsoft-Windows-Variable-Attributes.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Microsoft-Windows-Variable-Attributes.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>