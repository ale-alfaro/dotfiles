<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>3.18.44. S/390 and zSeries Options</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="s_002f390-and-zseries-options" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gcc"><h1 class="subsection" id="S_002f390-and-zSeries-Options-1">3.18.44 S/390 and zSeries Options</h1>  <p id="index-S_002f390-and-zSeries-Options">These are the ‘<samp>-m</samp>’ options defined for the S/390 and zSeries architecture. </p> <dl compact> <dt><code>-mhard-float</code></dt> <dt><code>-msoft-float</code></dt> <dd>  <p id="index-msoft-float-10">Use (do not use) the hardware floating-point instructions and registers for floating-point operations. When <samp>-msoft-float</samp> is specified, functions in <samp>libgcc.a</samp> are used to perform floating-point operations. When <samp>-mhard-float</samp> is specified, the compiler generates IEEE floating-point instructions. This is the default. </p> </dd> <dt><code>-mhard-dfp</code></dt> <dt><code>-mno-hard-dfp</code></dt> <dd>  <p id="index-mno-hard-dfp-1">Use (do not use) the hardware decimal-floating-point instructions for decimal-floating-point operations. When <samp>-mno-hard-dfp</samp> is specified, functions in <samp>libgcc.a</samp> are used to perform decimal-floating-point operations. When <samp>-mhard-dfp</samp> is specified, the compiler generates decimal-floating-point hardware instructions. This is the default for <samp>-march=z9-ec</samp> or higher. </p> </dd> <dt><code>-mlong-double-64</code></dt> <dt><code>-mlong-double-128</code></dt> <dd>  <p id="index-mlong-double-128">These switches control the size of <code>long double</code> type. A size of 64 bits makes the <code>long double</code> type equivalent to the <code>double</code> type. This is the default. </p> </dd> <dt><code>-mbackchain</code></dt> <dt><code>-mno-backchain</code></dt> <dd>  <p id="index-mno-backchain">Store (do not store) the address of the caller’s frame as backchain pointer into the callee’s stack frame. A backchain may be needed to allow debugging using tools that do not understand DWARF call frame information. When <samp>-mno-packed-stack</samp> is in effect, the backchain pointer is stored at the bottom of the stack frame; when <samp>-mpacked-stack</samp> is in effect, the backchain is placed into the topmost word of the 96/160 byte register save area. </p> <p>In general, code compiled with <samp>-mbackchain</samp> is call-compatible with code compiled with <samp>-mmo-backchain</samp>; however, use of the backchain for debugging purposes usually requires that the whole binary is built with <samp>-mbackchain</samp>. Note that the combination of <samp>-mbackchain</samp>, <samp>-mpacked-stack</samp> and <samp>-mhard-float</samp> is not supported. In order to build a linux kernel use <samp>-msoft-float</samp>. </p> <p>The default is to not maintain the backchain. </p> </dd> <dt><code>-mpacked-stack</code></dt> <dt><code>-mno-packed-stack</code></dt> <dd>  <p id="index-mno-packed-stack">Use (do not use) the packed stack layout. When <samp>-mno-packed-stack</samp> is specified, the compiler uses the all fields of the 96/160 byte register save area only for their default purpose; unused fields still take up stack space. When <samp>-mpacked-stack</samp> is specified, register save slots are densely packed at the top of the register save area; unused space is reused for other purposes, allowing for more efficient use of the available stack space. However, when <samp>-mbackchain</samp> is also in effect, the topmost word of the save area is always used to store the backchain, and the return address register is always saved two words below the backchain. </p> <p>As long as the stack frame backchain is not used, code generated with <samp>-mpacked-stack</samp> is call-compatible with code generated with <samp>-mno-packed-stack</samp>. Note that some non-FSF releases of GCC 2.95 for S/390 or zSeries generated code that uses the stack frame backchain at run time, not just for debugging purposes. Such code is not call-compatible with code compiled with <samp>-mpacked-stack</samp>. Also, note that the combination of <samp>-mbackchain</samp>, <samp>-mpacked-stack</samp> and <samp>-mhard-float</samp> is not supported. In order to build a linux kernel use <samp>-msoft-float</samp>. </p> <p>The default is to not use the packed stack layout. </p> </dd> <dt><code>-msmall-exec</code></dt> <dt><code>-mno-small-exec</code></dt> <dd>  <p id="index-mno-small-exec">Generate (or do not generate) code using the <code>bras</code> instruction to do subroutine calls. This only works reliably if the total executable size does not exceed 64k. The default is to use the <code>basr</code> instruction instead, which does not have this limitation. </p> </dd> <dt><code>-m64</code></dt> <dt><code>-m31</code></dt> <dd>  <p id="index-m31">When <samp>-m31</samp> is specified, generate code compliant to the GNU/Linux for S/390 ABI. When <samp>-m64</samp> is specified, generate code compliant to the GNU/Linux for zSeries ABI. This allows GCC in particular to generate 64-bit instructions. For the ‘<samp>s390</samp>’ targets, the default is <samp>-m31</samp>, while the ‘<samp>s390x</samp>’ targets default to <samp>-m64</samp>. </p> </dd> <dt><code>-mzarch</code></dt> <dt><code>-mesa</code></dt> <dd>  <p id="index-mesa">When <samp>-mzarch</samp> is specified, generate code using the instructions available on z/Architecture. When <samp>-mesa</samp> is specified, generate code using the instructions available on ESA/390. Note that <samp>-mesa</samp> is not possible with <samp>-m64</samp>. When generating code compliant to the GNU/Linux for S/390 ABI, the default is <samp>-mesa</samp>. When generating code compliant to the GNU/Linux for zSeries ABI, the default is <samp>-mzarch</samp>. </p> </dd> <dt><code>-mhtm</code></dt> <dt><code>-mno-htm</code></dt> <dd>  <p id="index-mno-htm-1">The <samp>-mhtm</samp> option enables a set of builtins making use of instructions available with the transactional execution facility introduced with the IBM zEnterprise EC12 machine generation <a href="s_002f390-system-z-built-in-functions#S_002f390-System-z-Built-in-Functions">S/390 System z Built-in Functions</a>. <samp>-mhtm</samp> is enabled by default when using <samp>-march=zEC12</samp>. </p> </dd> <dt><code>-mvx</code></dt> <dt><code>-mno-vx</code></dt> <dd>  <p id="index-mno-vx">When <samp>-mvx</samp> is specified, generate code using the instructions available with the vector extension facility introduced with the IBM z13 machine generation. This option changes the ABI for some vector type values with regard to alignment and calling conventions. In case vector type values are being used in an ABI-relevant context a GAS ‘<samp>.gnu_attribute</samp>’ command will be added to mark the resulting binary with the ABI used. <samp>-mvx</samp> is enabled by default when using <samp>-march=z13</samp>. </p> </dd> <dt><code>-mzvector</code></dt> <dt><code>-mno-zvector</code></dt> <dd>  <p id="index-mno-zvector">The <samp>-mzvector</samp> option enables vector language extensions and builtins using instructions available with the vector extension facility introduced with the IBM z13 machine generation. This option adds support for ‘<samp>vector</samp>’ to be used as a keyword to define vector type variables and arguments. ‘<samp>vector</samp>’ is only available when GNU extensions are enabled. It will not be expanded when requesting strict standard compliance e.g. with <samp>-std=c99</samp>. In addition to the GCC low-level builtins <samp>-mzvector</samp> enables a set of builtins added for compatibility with AltiVec-style implementations like Power and Cell. In order to make use of these builtins the header file <samp>vecintrin.h</samp> needs to be included. <samp>-mzvector</samp> is disabled by default. </p> </dd> <dt><code>-mmvcle</code></dt> <dt><code>-mno-mvcle</code></dt> <dd>  <p id="index-mno-mvcle">Generate (or do not generate) code using the <code>mvcle</code> instruction to perform block moves. When <samp>-mno-mvcle</samp> is specified, use a <code>mvc</code> loop instead. This is the default unless optimizing for size. </p> </dd> <dt><code>-mdebug</code></dt> <dt><code>-mno-debug</code></dt> <dd>  <p id="index-mno-debug">Print (or do not print) additional debug information when compiling. The default is to not print debug information. </p> </dd> <dt><code>-march=<var>cpu-type</var></code></dt> <dd> <p id="index-march-13">Generate code that runs on <var>cpu-type</var>, which is the name of a system representing a certain processor type. Possible values for <var>cpu-type</var> are ‘<samp>z900</samp>’/‘<samp>arch5</samp>’, ‘<samp>z990</samp>’/‘<samp>arch6</samp>’, ‘<samp>z9-109</samp>’, ‘<samp>z9-ec</samp>’/‘<samp>arch7</samp>’, ‘<samp>z10</samp>’/‘<samp>arch8</samp>’, ‘<samp>z196</samp>’/‘<samp>arch9</samp>’, ‘<samp>zEC12</samp>’, ‘<samp>z13</samp>’/‘<samp>arch11</samp>’, ‘<samp>z14</samp>’/‘<samp>arch12</samp>’, and ‘<samp>native</samp>’. </p> <p>The default is <samp>-march=z900</samp>. </p> <p>Specifying ‘<samp>native</samp>’ as cpu type can be used to select the best architecture option for the host processor. <samp>-march=native</samp> has no effect if GCC does not recognize the processor. </p> </dd> <dt><code>-mtune=<var>cpu-type</var></code></dt> <dd> <p id="index-mtune-13">Tune to <var>cpu-type</var> everything applicable about the generated code, except for the ABI and the set of available instructions. The list of <var>cpu-type</var> values is the same as for <samp>-march</samp>. The default is the value used for <samp>-march</samp>. </p> </dd> <dt><code>-mtpf-trace</code></dt> <dt><code>-mno-tpf-trace</code></dt> <dd>  <p id="index-mno-tpf-trace">Generate code that adds (does not add) in TPF OS specific branches to trace routines in the operating system. This option is off by default, even when compiling for the TPF OS. </p> </dd> <dt><code>-mfused-madd</code></dt> <dt><code>-mno-fused-madd</code></dt> <dd>  <p id="index-mno-fused-madd-3">Generate code that uses (does not use) the floating-point multiply and accumulate instructions. These instructions are generated by default if hardware floating point is used. </p> </dd> <dt><code>-mwarn-framesize=<var>framesize</var></code></dt> <dd> <p id="index-mwarn-framesize">Emit a warning if the current function exceeds the given frame size. Because this is a compile-time check it doesn’t need to be a real problem when the program runs. It is intended to identify functions that most probably cause a stack overflow. It is useful to be used in an environment with limited stack size e.g. the linux kernel. </p> </dd> <dt><code>-mwarn-dynamicstack</code></dt> <dd> <p id="index-mwarn-dynamicstack">Emit a warning if the function calls <code>alloca</code> or uses dynamically-sized arrays. This is generally a bad idea with a limited stack size. </p> </dd> <dt><code>-mstack-guard=<var>stack-guard</var></code></dt> <dt><code>-mstack-size=<var>stack-size</var></code></dt> <dd>  <p id="index-mstack-size-2">If these options are provided the S/390 back end emits additional instructions in the function prologue that trigger a trap if the stack size is <var>stack-guard</var> bytes above the <var>stack-size</var> (remember that the stack on S/390 grows downward). If the <var>stack-guard</var> option is omitted the smallest power of 2 larger than the frame size of the compiled function is chosen. These options are intended to be used to help debugging stack overflow problems. The additionally emitted code causes only little overhead and hence can also be used in production-like systems without greater performance degradation. The given values have to be exact powers of 2 and <var>stack-size</var> has to be greater than <var>stack-guard</var> without exceeding 64k. In order to be efficient the extra code makes the assumption that the stack starts at an address aligned to the value given by <var>stack-size</var>. The <var>stack-guard</var> option can only be used in conjunction with <var>stack-size</var>. </p> </dd> <dt><code>-mhotpatch=<var>pre-halfwords</var>,<var>post-halfwords</var></code></dt> <dd> <p id="index-mhotpatch">If the hotpatch option is enabled, a “hot-patching” function prologue is generated for all functions in the compilation unit. The funtion label is prepended with the given number of two-byte NOP instructions (<var>pre-halfwords</var>, maximum 1000000). After the label, 2 * <var>post-halfwords</var> bytes are appended, using the largest NOP like instructions the architecture allows (maximum 1000000). </p> <p>If both arguments are zero, hotpatching is disabled. </p> <p>This option can be overridden for individual functions with the <code>hotpatch</code> attribute. </p>
</dd> </dl>  <p class="header"> <p> Next: <a href="score-options#Score-Options" accesskey="n" rel="next">Score Options</a>, Previous: <a href="rx-options#RX-Options" accesskey="p" rel="prev">RX Options</a>, Up: <a href="submodel-options#Submodel-Options" accesskey="u" rel="up">Submodel Options</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/S_002f390-and-zSeries-Options.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/S_002f390-and-zSeries-Options.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>