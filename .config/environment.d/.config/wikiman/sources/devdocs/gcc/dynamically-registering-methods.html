<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>8.10.1. Dynamically Registering Methods</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="dynamically-registering-methods" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gcc"><h1 class="subsection" id="Dynamically-Registering-Methods">8.10.1 Dynamically Registering Methods</h1> <p>If <code>objc_msg_lookup()</code> does not find a suitable method implementation, because the receiver does not implement the required method, it tries to see if the class can dynamically register the method. </p> <p>To do so, the runtime checks if the class of the receiver implements the method </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">+ (BOOL) resolveInstanceMethod: (SEL)selector;</pre>
</div> <p>in the case of an instance method, or </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">+ (BOOL) resolveClassMethod: (SEL)selector;</pre>
</div> <p>in the case of a class method. If the class implements it, the runtime invokes it, passing as argument the selector of the original method, and if it returns <code>YES</code>, the runtime tries the lookup again, which could now succeed if a matching method was added dynamically by <code>+resolveInstanceMethod:</code> or <code>+resolveClassMethod:</code>. </p> <p>This allows classes to dynamically register methods (by adding them to the class using <code>class_addMethod</code>) when they are first called. To do so, a class should implement <code>+resolveInstanceMethod:</code> (or, depending on the case, <code>+resolveClassMethod:</code>) and have it recognize the selectors of methods that can be registered dynamically at runtime, register them, and return <code>YES</code>. It should return <code>NO</code> for methods that it does not dynamically registered at runtime. </p> <p>If <code>+resolveInstanceMethod:</code> (or <code>+resolveClassMethod:</code>) is not implemented or returns <code>NO</code>, the runtime then tries the forwarding hook. </p> <p>Support for <code>+resolveInstanceMethod:</code> and <code>resolveClassMethod:</code> was added to the GNU Objective-C runtime in GCC version 4.6. </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Dynamically-registering-methods.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Dynamically-registering-methods.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>