<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>6.47.6. Size of an asm</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="size-of-an-asm" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gcc"><h1 class="subsection" id="Size-of-an-asm-1">6.47.6 Size of an asm</h1> <p>Some targets require that GCC track the size of each instruction used in order to generate correct code. Because the final length of the code produced by an <code>asm</code> statement is only known by the assembler, GCC must make an estimate as to how big it will be. It does this by counting the number of instructions in the pattern of the <code>asm</code> and multiplying that by the length of the longest instruction supported by that processor. (When working out the number of instructions, it assumes that any occurrence of a newline or of whatever statement separator character is supported by the assembler — typically ‘<samp>;</samp>’ — indicates the end of an instruction.) </p> <p>Normally, GCC’s estimate is adequate to ensure that correct code is generated, but it is possible to confuse the compiler if you use pseudo instructions or assembler macros that expand into multiple real instructions, or if you use assembler directives that expand to more space in the object file than is needed for a single instruction. If this happens then the assembler may produce a diagnostic saying that a label is unreachable. </p>  <p id="index-asm-inline">This size is also used for inlining decisions. If you use <code>asm inline</code> instead of just <code>asm</code>, then for inlining purposes the size of the asm is taken as the minimum size, ignoring how many instructions GCC thinks it is. </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Size-of-an-asm.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Size-of-an-asm.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>