<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>6.60.22. PowerPC AltiVec/VSX Built-in Functions</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="powerpc-altivec_002fvsx-built-in-functions" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gcc"><h1 class="subsection" id="PowerPC-AltiVec_002fVSX-Built-in-Functions-1">6.60.22 PowerPC AltiVec/VSX Built-in Functions</h1> <p>GCC provides an interface for the PowerPC family of processors to access the AltiVec operations described in Motorola’s AltiVec Programming Interface Manual. The interface is made available by including <code>&lt;altivec.h&gt;</code> and using <samp>-maltivec</samp> and <samp>-mabi=altivec</samp>. The interface supports the following vector types. </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">vector unsigned char
vector signed char
vector bool char

vector unsigned short
vector signed short
vector bool short
vector pixel

vector unsigned int
vector signed int
vector bool int
vector float</pre>
</div> <p>GCC’s implementation of the high-level language interface available from C and C++ code differs from Motorola’s documentation in several ways. </p> <ul> <li> A vector constant is a list of constant expressions within curly braces. </li>
<li> A vector initializer requires no cast if the vector constant is of the same type as the variable it is initializing. </li>
<li> If <code>signed</code> or <code>unsigned</code> is omitted, the signedness of the vector type is the default signedness of the base type. The default varies depending on the operating system, so a portable program should always specify the signedness. </li>
<li> Compiling with <samp>-maltivec</samp> adds keywords <code>__vector</code>, <code>vector</code>, <code>__pixel</code>, <code>pixel</code>, <code>__bool</code> and <code>bool</code>. When compiling ISO C, the context-sensitive substitution of the keywords <code>vector</code>, <code>pixel</code> and <code>bool</code> is disabled. To use them, you must include <code>&lt;altivec.h&gt;</code> instead. </li>
<li> GCC allows using a <code>typedef</code> name as the type specifier for a vector type, but only under the following circumstances: <ul> <li> When using <code>__vector</code> instead of <code>vector</code>; for example, <div class="smallexample"> <pre class="smallexample" data-language="cpp">typedef signed short int16;
__vector int16 data;</pre>
</div> </li>
<li> When using <code>vector</code> in keyword-and-predefine mode; for example, <div class="smallexample"> <pre class="smallexample" data-language="cpp">typedef signed short int16;
vector int16 data;</pre>
</div> <p>Note that keyword-and-predefine mode is enabled by disabling GNU extensions (e.g., by using <code>-std=c11</code>) and including <code>&lt;altivec.h&gt;</code>. </p>
</li>
</ul> </li>
<li> For C, overloaded functions are implemented with macros so the following does not work: <div class="smallexample"> <pre class="smallexample" data-language="cpp">vec_add ((vector signed int){1, 2, 3, 4}, foo);</pre>
</div> <p>Since <code>vec_add</code> is a macro, the vector constant in the example is treated as four separate arguments. Wrap the entire argument in parentheses for this to work. </p>
</li>
</ul> <p><em>Note:</em> Only the <code>&lt;altivec.h&gt;</code> interface is supported. Internally, GCC uses built-in functions to achieve the functionality in the aforementioned header file, but they are not supported and are subject to change without notice. </p> <p>GCC complies with the OpenPOWER 64-Bit ELF V2 ABI Specification, which may be found at <a href="http://openpowerfoundation.org/wp-content/uploads/resources/leabi-prd/content/index.html">http://openpowerfoundation.org/wp-content/uploads/resources/leabi-prd/content/index.html</a>. Appendix A of this document lists the vector API interfaces that must be provided by compliant compilers. Programmers should preferentially use the interfaces described therein. However, historically GCC has provided additional interfaces for access to vector instructions. These are briefly described below. </p> <table class="menu" border="0" cellspacing="0"> <tr>
<td align="left">• <a href="powerpc-altivec-built-in-functions-on-isa-2_002e05#PowerPC-AltiVec-Built-in-Functions-on-ISA-2_002e05" accesskey="1">PowerPC AltiVec Built-in Functions on ISA 2.05</a>:</td>
<td> </td>
<td align="left"> </td>
</tr> <tr>
<td align="left">• <a href="powerpc-altivec-built-in-functions-available-on-isa-2_002e06#PowerPC-AltiVec-Built-in-Functions-Available-on-ISA-2_002e06" accesskey="2">PowerPC AltiVec Built-in Functions Available on ISA 2.06</a>:</td>
<td> </td>
<td align="left"> </td>
</tr> <tr>
<td align="left">• <a href="powerpc-altivec-built-in-functions-available-on-isa-2_002e07#PowerPC-AltiVec-Built-in-Functions-Available-on-ISA-2_002e07" accesskey="3">PowerPC AltiVec Built-in Functions Available on ISA 2.07</a>:</td>
<td> </td>
<td align="left"> </td>
</tr> <tr>
<td align="left">• <a href="powerpc-altivec-built-in-functions-available-on-isa-3_002e0#PowerPC-AltiVec-Built-in-Functions-Available-on-ISA-3_002e0" accesskey="4">PowerPC AltiVec Built-in Functions Available on ISA 3.0</a>:</td>
<td> </td>
<td align="left"> </td>
</tr> </table>  <p class="header"> <p> Next: <a href="powerpc-hardware-transactional-memory-built-in-functions#PowerPC-Hardware-Transactional-Memory-Built-in-Functions" accesskey="n" rel="next">PowerPC Hardware Transactional Memory Built-in Functions</a>, Previous: <a href="basic-powerpc-built-in-functions#Basic-PowerPC-Built-in-Functions" accesskey="p" rel="prev">Basic PowerPC Built-in Functions</a>, Up: <a href="target-builtins#Target-Builtins" accesskey="u" rel="up">Target Builtins</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/PowerPC-AltiVec_002fVSX-Built-in-Functions.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/PowerPC-AltiVec_002fVSX-Built-in-Functions.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>