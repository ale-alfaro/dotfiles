<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>6.60.15.3. MIPS-3D Built-in Functions</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="mips-3d-built-in-functions" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gcc"><h1 class="subsubsection" id="MIPS-3D-Built-in-Functions-1">6.60.15.3 MIPS-3D Built-in Functions</h1> <p>The MIPS-3D Application-Specific Extension (ASE) includes additional paired-single instructions that are designed to improve the performance of 3D graphics operations. Support for these instructions is controlled by the <samp>-mips3d</samp> command-line option. </p> <p>The functions listed below map directly to a particular MIPS-3D instruction. Please refer to the architecture specification for more details on what each instruction does. </p> <dl compact> <dt><code>v2sf __builtin_mips_addr_ps (v2sf, v2sf)</code></dt> <dd>
<p>Reduction add (<code>addr.ps</code>). </p> </dd> <dt><code>v2sf __builtin_mips_mulr_ps (v2sf, v2sf)</code></dt> <dd>
<p>Reduction multiply (<code>mulr.ps</code>). </p> </dd> <dt><code>v2sf __builtin_mips_cvt_pw_ps (v2sf)</code></dt> <dd>
<p>Convert paired single to paired word (<code>cvt.pw.ps</code>). </p> </dd> <dt><code>v2sf __builtin_mips_cvt_ps_pw (v2sf)</code></dt> <dd>
<p>Convert paired word to paired single (<code>cvt.ps.pw</code>). </p> </dd> <dt><code>float __builtin_mips_recip1_s (float)</code></dt> <dt><code>double __builtin_mips_recip1_d (double)</code></dt> <dt><code>v2sf __builtin_mips_recip1_ps (v2sf)</code></dt> <dd>
<p>Reduced-precision reciprocal (sequence step 1) (<code>recip1.<var>fmt</var></code>). </p> </dd> <dt><code>float __builtin_mips_recip2_s (float, float)</code></dt> <dt><code>double __builtin_mips_recip2_d (double, double)</code></dt> <dt><code>v2sf __builtin_mips_recip2_ps (v2sf, v2sf)</code></dt> <dd>
<p>Reduced-precision reciprocal (sequence step 2) (<code>recip2.<var>fmt</var></code>). </p> </dd> <dt><code>float __builtin_mips_rsqrt1_s (float)</code></dt> <dt><code>double __builtin_mips_rsqrt1_d (double)</code></dt> <dt><code>v2sf __builtin_mips_rsqrt1_ps (v2sf)</code></dt> <dd>
<p>Reduced-precision reciprocal square root (sequence step 1) (<code>rsqrt1.<var>fmt</var></code>). </p> </dd> <dt><code>float __builtin_mips_rsqrt2_s (float, float)</code></dt> <dt><code>double __builtin_mips_rsqrt2_d (double, double)</code></dt> <dt><code>v2sf __builtin_mips_rsqrt2_ps (v2sf, v2sf)</code></dt> <dd><p>Reduced-precision reciprocal square root (sequence step 2) (<code>rsqrt2.<var>fmt</var></code>). </p></dd> </dl> <p>The following multi-instruction functions are also available. In each case, <var>cond</var> can be any of the 16 floating-point conditions: <code>f</code>, <code>un</code>, <code>eq</code>, <code>ueq</code>, <code>olt</code>, <code>ult</code>, <code>ole</code>, <code>ule</code>, <code>sf</code>, <code>ngle</code>, <code>seq</code>, <code>ngl</code>, <code>lt</code>, <code>nge</code>, <code>le</code> or <code>ngt</code>. </p> <dl compact> <dt><code>int __builtin_mips_cabs_<var>cond</var>_s (float <var>a</var>, float <var>b</var>)</code></dt> <dt><code>int __builtin_mips_cabs_<var>cond</var>_d (double <var>a</var>, double <var>b</var>)</code></dt> <dd>
<p>Absolute comparison of two scalar values (<code>cabs.<var>cond</var>.<var>fmt</var></code>, <code>bc1t</code>/<code>bc1f</code>). </p> <p>These functions compare <var>a</var> and <var>b</var> using <code>cabs.<var>cond</var>.s</code> or <code>cabs.<var>cond</var>.d</code> and return the result as a boolean value. For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">float a, b;
if (__builtin_mips_cabs_eq_s (a, b))
  true ();
else
  false ();</pre>
</div> </dd> <dt><code>int __builtin_mips_upper_cabs_<var>cond</var>_ps (v2sf <var>a</var>, v2sf <var>b</var>)</code></dt> <dt><code>int __builtin_mips_lower_cabs_<var>cond</var>_ps (v2sf <var>a</var>, v2sf <var>b</var>)</code></dt> <dd>
<p>Absolute comparison of two paired-single values (<code>cabs.<var>cond</var>.ps</code>, <code>bc1t</code>/<code>bc1f</code>). </p> <p>These functions compare <var>a</var> and <var>b</var> using <code>cabs.<var>cond</var>.ps</code> and return either the upper or lower half of the result. For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">v2sf a, b;
if (__builtin_mips_upper_cabs_eq_ps (a, b))
  upper_halves_are_equal ();
else
  upper_halves_are_unequal ();

if (__builtin_mips_lower_cabs_eq_ps (a, b))
  lower_halves_are_equal ();
else
  lower_halves_are_unequal ();</pre>
</div> </dd> <dt><code>v2sf __builtin_mips_movt_cabs_<var>cond</var>_ps (v2sf <var>a</var>, v2sf <var>b</var>, v2sf <var>c</var>, v2sf <var>d</var>)</code></dt> <dt><code>v2sf __builtin_mips_movf_cabs_<var>cond</var>_ps (v2sf <var>a</var>, v2sf <var>b</var>, v2sf <var>c</var>, v2sf <var>d</var>)</code></dt> <dd>
<p>Conditional move based on absolute comparison (<code>cabs.<var>cond</var>.ps</code>, <code>movt.ps</code>/<code>movf.ps</code>). </p> <p>The <code>movt</code> functions return the value <var>x</var> computed by: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">cabs.<var>cond</var>.ps <var>cc</var>,<var>a</var>,<var>b</var>
mov.ps <var>x</var>,<var>c</var>
movt.ps <var>x</var>,<var>d</var>,<var>cc</var></pre>
</div> <p>The <code>movf</code> functions are similar but use <code>movf.ps</code> instead of <code>movt.ps</code>. </p> </dd> <dt><code>int __builtin_mips_any_c_<var>cond</var>_ps (v2sf <var>a</var>, v2sf <var>b</var>)</code></dt> <dt><code>int __builtin_mips_all_c_<var>cond</var>_ps (v2sf <var>a</var>, v2sf <var>b</var>)</code></dt> <dt><code>int __builtin_mips_any_cabs_<var>cond</var>_ps (v2sf <var>a</var>, v2sf <var>b</var>)</code></dt> <dt><code>int __builtin_mips_all_cabs_<var>cond</var>_ps (v2sf <var>a</var>, v2sf <var>b</var>)</code></dt> <dd>
<p>Comparison of two paired-single values (<code>c.<var>cond</var>.ps</code>/<code>cabs.<var>cond</var>.ps</code>, <code>bc1any2t</code>/<code>bc1any2f</code>). </p> <p>These functions compare <var>a</var> and <var>b</var> using <code>c.<var>cond</var>.ps</code> or <code>cabs.<var>cond</var>.ps</code>. The <code>any</code> forms return <code>true</code> if either result is <code>true</code> and the <code>all</code> forms return <code>true</code> if both results are <code>true</code>. For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">v2sf a, b;
if (__builtin_mips_any_c_eq_ps (a, b))
  one_is_true ();
else
  both_are_false ();

if (__builtin_mips_all_c_eq_ps (a, b))
  both_are_true ();
else
  one_is_false ();</pre>
</div> </dd> <dt><code>int __builtin_mips_any_c_<var>cond</var>_4s (v2sf <var>a</var>, v2sf <var>b</var>, v2sf <var>c</var>, v2sf <var>d</var>)</code></dt> <dt><code>int __builtin_mips_all_c_<var>cond</var>_4s (v2sf <var>a</var>, v2sf <var>b</var>, v2sf <var>c</var>, v2sf <var>d</var>)</code></dt> <dt><code>int __builtin_mips_any_cabs_<var>cond</var>_4s (v2sf <var>a</var>, v2sf <var>b</var>, v2sf <var>c</var>, v2sf <var>d</var>)</code></dt> <dt><code>int __builtin_mips_all_cabs_<var>cond</var>_4s (v2sf <var>a</var>, v2sf <var>b</var>, v2sf <var>c</var>, v2sf <var>d</var>)</code></dt> <dd>
<p>Comparison of four paired-single values (<code>c.<var>cond</var>.ps</code>/<code>cabs.<var>cond</var>.ps</code>, <code>bc1any4t</code>/<code>bc1any4f</code>). </p> <p>These functions use <code>c.<var>cond</var>.ps</code> or <code>cabs.<var>cond</var>.ps</code> to compare <var>a</var> with <var>b</var> and to compare <var>c</var> with <var>d</var>. The <code>any</code> forms return <code>true</code> if any of the four results are <code>true</code> and the <code>all</code> forms return <code>true</code> if all four results are <code>true</code>. For example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">v2sf a, b, c, d;
if (__builtin_mips_any_c_eq_4s (a, b, c, d))
  some_are_true ();
else
  all_are_false ();

if (__builtin_mips_all_c_eq_4s (a, b, c, d))
  all_are_true ();
else
  some_are_false ();</pre>
</div> </dd> </dl>  <p class="header"> <p> Previous: <a href="paired-single-built-in-functions#Paired-Single-Built-in-Functions" accesskey="p" rel="prev">Paired-Single Built-in Functions</a>, Up: <a href="mips-loongson-built-in-functions#MIPS-Loongson-Built-in-Functions" accesskey="u" rel="up">MIPS Loongson Built-in Functions</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/MIPS-3D-Built-in-Functions.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/MIPS-3D-Built-in-Functions.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>