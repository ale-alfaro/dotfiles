<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>8.7. Exceptions</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="exceptions" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gcc"><h1 class="section" id="Exceptions-1">8.7 Exceptions</h1> <p>GNU Objective-C provides exception support built into the language, as in the following example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">@try {
  …
     @throw expr;
  …
}
@catch (AnObjCClass *exc) {
  …
    @throw expr;
  …
    @throw;
  …
}
@catch (AnotherClass *exc) {
  …
}
@catch (id allOthers) {
  …
}
@finally {
  …
    @throw expr;
  …
}</pre>
</div> <p>The <code>@throw</code> statement may appear anywhere in an Objective-C or Objective-C++ program; when used inside of a <code>@catch</code> block, the <code>@throw</code> may appear without an argument (as shown above), in which case the object caught by the <code>@catch</code> will be rethrown. </p> <p>Note that only (pointers to) Objective-C objects may be thrown and caught using this scheme. When an object is thrown, it will be caught by the nearest <code>@catch</code> clause capable of handling objects of that type, analogously to how <code>catch</code> blocks work in C++ and Java. A <code>@catch(id …)</code> clause (as shown above) may also be provided to catch any and all Objective-C exceptions not caught by previous <code>@catch</code> clauses (if any). </p> <p>The <code>@finally</code> clause, if present, will be executed upon exit from the immediately preceding <code>@try … @catch</code> section. This will happen regardless of whether any exceptions are thrown, caught or rethrown inside the <code>@try … @catch</code> section, analogously to the behavior of the <code>finally</code> clause in Java. </p> <p>There are several caveats to using the new exception mechanism: </p> <ul> <li> The <samp>-fobjc-exceptions</samp> command line option must be used when compiling Objective-C files that use exceptions. </li>
<li> With the GNU runtime, exceptions are always implemented as “native” exceptions and it is recommended that the <samp>-fexceptions</samp> and <samp>-shared-libgcc</samp> options are used when linking. </li>
<li> With the NeXT runtime, although currently designed to be binary compatible with <code>NS_HANDLER</code>-style idioms provided by the <code>NSException</code> class, the new exceptions can only be used on Mac OS X 10.3 (Panther) and later systems, due to additional functionality needed in the NeXT Objective-C runtime. </li>
<li> As mentioned above, the new exceptions do not support handling types other than Objective-C objects. Furthermore, when used from Objective-C++, the Objective-C exception model does not interoperate with C++ exceptions at this time. This means you cannot <code>@throw</code> an exception from Objective-C and <code>catch</code> it in C++, or vice versa (i.e., <code>throw … @catch</code>). </li>
</ul>  <p class="header"> <p> Next: <a href="synchronization#Synchronization" accesskey="n" rel="next">Synchronization</a>, Previous: <a href="compatibility_005falias#compatibility_005falias" accesskey="p" rel="prev">compatibility_alias</a>, Up: <a href="objective-c#Objective-C" accesskey="u" rel="up">Objective-C</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Exceptions.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Exceptions.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>