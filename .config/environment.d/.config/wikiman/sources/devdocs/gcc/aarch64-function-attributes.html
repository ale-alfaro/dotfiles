<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>6.33.2. AArch64 Function Attributes</title>
    
    <link rel="preload" href="assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="application.css" />
    <link rel="stylesheet" type="text/css" href="assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="aarch64-function-attributes" prefix="" listing-src="navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _gcc"><h1 class="subsection" id="AArch64-Function-Attributes-1">6.33.2 AArch64 Function Attributes</h1> <p>The following target-specific function attributes are available for the AArch64 target. For the most part, these options mirror the behavior of similar command-line options (see <a href="aarch64-options#AArch64-Options">AArch64 Options</a>), but on a per-function basis. </p> <dl compact> <dt><code>general-regs-only</code></dt> <dd> <p id="index-general-regs-only-function-attribute_002c-AArch64">Indicates that no floating-point or Advanced SIMD registers should be used when generating code for this function. If the function explicitly uses floating-point code, then the compiler gives an error. This is the same behavior as that of the command-line option <samp>-mgeneral-regs-only</samp>. </p> </dd> <dt><code>fix-cortex-a53-835769</code></dt> <dd> <p id="index-fix-cortex-a53-835769-function-attribute_002c-AArch64">Indicates that the workaround for the Cortex-A53 erratum 835769 should be applied to this function. To explicitly disable the workaround for this function specify the negated form: <code>no-fix-cortex-a53-835769</code>. This corresponds to the behavior of the command line options <samp>-mfix-cortex-a53-835769</samp> and <samp>-mno-fix-cortex-a53-835769</samp>. </p> </dd> <dt><code>cmodel=</code></dt> <dd> <p id="index-cmodel_003d-function-attribute_002c-AArch64">Indicates that code should be generated for a particular code model for this function. The behavior and permissible arguments are the same as for the command line option <samp>-mcmodel=</samp>. </p> </dd> <dt><code>strict-align</code></dt> <dt><code>no-strict-align</code></dt> <dd> <p id="index-strict-align-function-attribute_002c-AArch64"><code>strict-align</code> indicates that the compiler should not assume that unaligned memory references are handled by the system. To allow the compiler to assume that aligned memory references are handled by the system, the inverse attribute <code>no-strict-align</code> can be specified. The behavior is same as for the command-line option <samp>-mstrict-align</samp> and <samp>-mno-strict-align</samp>. </p> </dd> <dt><code>omit-leaf-frame-pointer</code></dt> <dd> <p id="index-omit-leaf-frame-pointer-function-attribute_002c-AArch64">Indicates that the frame pointer should be omitted for a leaf function call. To keep the frame pointer, the inverse attribute <code>no-omit-leaf-frame-pointer</code> can be specified. These attributes have the same behavior as the command-line options <samp>-momit-leaf-frame-pointer</samp> and <samp>-mno-omit-leaf-frame-pointer</samp>. </p> </dd> <dt><code>tls-dialect=</code></dt> <dd> <p id="index-tls-dialect_003d-function-attribute_002c-AArch64">Specifies the TLS dialect to use for this function. The behavior and permissible arguments are the same as for the command-line option <samp>-mtls-dialect=</samp>. </p> </dd> <dt><code>arch=</code></dt> <dd> <p id="index-arch_003d-function-attribute_002c-AArch64">Specifies the architecture version and architectural extensions to use for this function. The behavior and permissible arguments are the same as for the <samp>-march=</samp> command-line option. </p> </dd> <dt><code>tune=</code></dt> <dd> <p id="index-tune_003d-function-attribute_002c-AArch64">Specifies the core for which to tune the performance of this function. The behavior and permissible arguments are the same as for the <samp>-mtune=</samp> command-line option. </p> </dd> <dt><code>cpu=</code></dt> <dd> <p id="index-cpu_003d-function-attribute_002c-AArch64">Specifies the core for which to tune the performance of this function and also whose architectural features to use. The behavior and valid arguments are the same as for the <samp>-mcpu=</samp> command-line option. </p> </dd> <dt><code>sign-return-address</code></dt> <dd> <p id="index-sign-return-address-function-attribute_002c-AArch64">Select the function scope on which return address signing will be applied. The behavior and permissible arguments are the same as for the command-line option <samp>-msign-return-address=</samp>. The default value is <code>none</code>. This attribute is deprecated. The <code>branch-protection</code> attribute should be used instead. </p> </dd> <dt><code>branch-protection</code></dt> <dd> <p id="index-branch-protection-function-attribute_002c-AArch64">Select the function scope on which branch protection will be applied. The behavior and permissible arguments are the same as for the command-line option <samp>-mbranch-protection=</samp>. The default value is <code>none</code>. </p> </dd> <dt><code>outline-atomics</code></dt> <dd> <p id="index-outline-atomics-function-attribute_002c-AArch64">Enable or disable calls to out-of-line helpers to implement atomic operations. This corresponds to the behavior of the command line options <samp>-moutline-atomics</samp> and <samp>-mno-outline-atomics</samp>. </p> </dd> </dl> <p>The above target attributes can be specified as follows: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">__attribute__((target("<var>attr-string</var>")))
int
f (int a)
{
  return a + 5;
}</pre>
</div> <p>where <code><var>attr-string</var></code> is one of the attribute strings specified above. </p> <p>Additionally, the architectural extension string may be specified on its own. This can be used to turn on and off particular architectural extensions without having to specify a particular architecture version or core. Example: </p> <div class="smallexample"> <pre class="smallexample" data-language="cpp">__attribute__((target("+crc+nocrypto")))
int
foo (int a)
{
  return a + 5;
}</pre>
</div> <p>In this example <code>target("+crc+nocrypto")</code> enables the <code>crc</code> extension and disables the <code>crypto</code> extension for the function <code>foo</code> without modifying an existing <samp>-march=</samp> or <samp>-mcpu</samp> option. </p> <p>Multiple target function attributes can be specified by separating them with a comma. For example: </p>
<div class="smallexample"> <pre class="smallexample" data-language="cpp">__attribute__((target("arch=armv8-a+crc+crypto,tune=cortex-a53")))
int
foo (int a)
{
  return a + 5;
}</pre>
</div> <p>is valid and compiles function <code>foo</code> for ARMv8-A with <code>crc</code> and <code>crypto</code> extensions and tunes it for <code>cortex-a53</code>. </p>  <h1 class="subsubsection" id="Inlining-rules">6.33.2.1 Inlining rules</h1> <p>Specifying target attributes on individual functions or performing link-time optimization across translation units compiled with different target options can affect function inlining rules: </p> <p>In particular, a caller function can inline a callee function only if the architectural features available to the callee are a subset of the features available to the caller. For example: A function <code>foo</code> compiled with <samp>-march=armv8-a+crc</samp>, or tagged with the equivalent <code>arch=armv8-a+crc</code> attribute, can inline a function <code>bar</code> compiled with <samp>-march=armv8-a+nocrc</samp> because the all the architectural features that function <code>bar</code> requires are available to function <code>foo</code>. Conversely, function <code>bar</code> cannot inline function <code>foo</code>. </p> <p>Additionally inlining a function compiled with <samp>-mstrict-align</samp> into a function compiled without <code>-mstrict-align</code> is not allowed. However, inlining a function compiled without <samp>-mstrict-align</samp> into a function compiled with <samp>-mstrict-align</samp> is allowed. </p> <p>Note that CPU tuning options and attributes such as the <samp>-mcpu=</samp>, <samp>-mtune=</samp> do not inhibit inlining unless the CPU specified by the <samp>-mcpu=</samp> option or the <code>cpu=</code> attribute conflicts with the architectural feature rules specified above. </p>  <p class="header"> <p> Next: <a href="amd-gcn-function-attributes#AMD-GCN-Function-Attributes" accesskey="n" rel="next">AMD GCN Function Attributes</a>, Previous: <a href="common-function-attributes#Common-Function-Attributes" accesskey="p" rel="prev">Common Function Attributes</a>, Up: <a href="function-attributes#Function-Attributes" accesskey="u" rel="up">Function Attributes</a> [<a href="index#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/Option-Index.html#Option-Index" title="Index" rel="index">Index</a>]</p> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/AArch64-Function-Attributes.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-9.5.0/gcc/AArch64-Function-Attributes.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="assets/index.js"></script>
</body>

</html>