<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>std::return</title>
    
    <link rel="preload" href="../assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="../application.css" />
    <link rel="stylesheet" type="text/css" href="../assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="std/keyword.return" prefix="../" listing-src="../navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _rust"><h1 class="main-heading">Keyword return</h1>
<p>Returns a value from a function.</p> <p>A <code>return</code> marks the end of an execution path in a function:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">fn foo() -&gt; i32 {
    return 3;
}
assert_eq!(foo(), 3);</pre></div> <p><code>return</code> is not needed when the returned value is the last expression in the function. In this case the <code>;</code> is omitted:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">fn foo() -&gt; i32 {
    3
}
assert_eq!(foo(), 3);</pre></div> <p><code>return</code> returns from the function immediately (an “early return”):</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">use std::fs::File;
use std::io::{Error, ErrorKind, Read, Result};

fn main() -&gt; Result&lt;()&gt; {
    let mut file = match File::open("foo.txt") {
        Ok(f) =&gt; f,
        Err(e) =&gt; return Err(e),
    };

    let mut contents = String::new();
    let size = match file.read_to_string(&amp;mut contents) {
        Ok(s) =&gt; s,
        Err(e) =&gt; return Err(e),
    };

    if contents.contains("impossible!") {
        return Err(Error::new(ErrorKind::Other, "oh no!"));
    }

    if size &gt; 9000 {
        return Err(Error::new(ErrorKind::Other, "over 9000!"));
    }

    assert_eq!(contents, "Hello, world!");
    Ok(())
}</pre></div> <p>Within <a href="../book/ch13-01-closures">closures</a> and <a href="keyword.async"><code>async</code></a> blocks, <code>return</code> returns a value from within the closure or <code>async</code> block, not from the parent function:</p> <div class="example-wrap"><pre class="rust rust-example-rendered" data-language="rust">fn foo() -&gt; i32 {
    let closure = || {
        return 5;
    };

    let future = async {
        return 10;
    };

    return 15;
}

assert_eq!(foo(), 15);</pre></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/std/keyword.return.html" class="_attribution-link">https://doc.rust-lang.org/std/keyword.return.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="../assets/index.js"></script>
</body>

</html>