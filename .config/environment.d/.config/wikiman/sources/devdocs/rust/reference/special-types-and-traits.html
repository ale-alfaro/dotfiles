<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>.. Box&lt;T&gt;</title>
    
    <link rel="preload" href="../assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="../application.css" />
    <link rel="stylesheet" type="text/css" href="../assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="reference/special-types-and-traits" prefix="../" listing-src="../navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _rust"><h1 class="rule" id="r-lang-types">
<a class="rule-link" href="#r-lang-types" title="lang-types"><span>[lang-types]</span></a> </h1> <h1 id="special-types-and-traits">Special types and traits</h1> <div class="rule" id="r-lang-types.intro">
<a class="rule-link" href="#r-lang-types.intro" title="lang-types.intro"><span>[lang-types<wbr>.intro]</wbr></span></a> </div> <p>Certain types and traits that exist in <a href="../std/index">the standard library</a> are known to the Rust compiler. This chapter documents the special features of these types and traits.</p> <div class="rule" id="r-lang-types.box">
<a class="rule-link" href="#r-lang-types.box" title="lang-types.box"><span>[lang-types<wbr>.box]</wbr></span></a> </div> <h2 id="boxt"><code id="">Box&lt;T&gt;</code></h2> <div class="rule" id="r-lang-types.box.intro">
<a class="rule-link" href="#r-lang-types.box.intro" title="lang-types.box.intro"><span>[lang-types<wbr>.box<wbr>.intro]</wbr></wbr></span></a> </div> <p><a href="https://doc.rust-lang.org/alloc/boxed/struct.Box.html"><code>Box&lt;T&gt;</code></a> has a few special features that Rust doesn’t currently allow for user defined types.</p> <div class="rule" id="r-lang-types.box.deref">
<a class="rule-link" href="#r-lang-types.box.deref" title="lang-types.box.deref"><span>[lang-types<wbr>.box<wbr>.deref]</wbr></wbr></span></a> </div> <ul> <li>The <a href="expressions/operator-expr#the-dereference-operator">dereference operator</a> for <code>Box&lt;T&gt;</code> produces a place which can be moved from. This means that the <code>*</code> operator and the destructor of <code>Box&lt;T&gt;</code> are built-in to the language.</li> </ul> <div class="rule" id="r-lang-types.box.receiver">
<a class="rule-link" href="#r-lang-types.box.receiver" title="lang-types.box.receiver"><span>[lang-types<wbr>.box<wbr>.receiver]</wbr></wbr></span></a> </div> <ul> <li>
<a href="items/associated-items#associated-functions-and-methods">Methods</a> can take <code>Box&lt;Self&gt;</code> as a receiver.</li> </ul> <div class="rule" id="r-lang-types.box.fundamental">
<a class="rule-link" href="#r-lang-types.box.fundamental" title="lang-types.box.fundamental"><span>[lang-types<wbr>.box<wbr>.fundamental]</wbr></wbr></span></a> </div> <ul> <li>A trait may be implemented for <code>Box&lt;T&gt;</code> in the same crate as <code>T</code>, which the <a href="items/implementations#trait-implementation-coherence">orphan rules</a> prevent for other generic types.</li> </ul>  <div class="rule" id="r-lang-types.rc">
<a class="rule-link" href="#r-lang-types.rc" title="lang-types.rc"><span>[lang-types<wbr>.rc]</wbr></span></a> </div> <h2 id="rct"><code id="">Rc&lt;T&gt;</code></h2> <div class="rule" id="r-lang-types.rc.receiver">
<a class="rule-link" href="#r-lang-types.rc.receiver" title="lang-types.rc.receiver"><span>[lang-types<wbr>.rc<wbr>.receiver]</wbr></wbr></span></a> </div> <p><a href="items/associated-items#associated-functions-and-methods">Methods</a> can take <a href="https://doc.rust-lang.org/alloc/rc/struct.Rc.html"><code>Rc&lt;Self&gt;</code></a> as a receiver.</p> <div class="rule" id="r-lang-types.arc">
<a class="rule-link" href="#r-lang-types.arc" title="lang-types.arc"><span>[lang-types<wbr>.arc]</wbr></span></a> </div> <h2 id="arct"><code id="">Arc&lt;T&gt;</code></h2> <div class="rule" id="r-lang-types.arc.receiver">
<a class="rule-link" href="#r-lang-types.arc.receiver" title="lang-types.arc.receiver"><span>[lang-types<wbr>.arc<wbr>.receiver]</wbr></wbr></span></a> </div> <p><a href="items/associated-items#associated-functions-and-methods">Methods</a> can take <a href="https://doc.rust-lang.org/alloc/sync/struct.Arc.html"><code>Arc&lt;Self&gt;</code></a> as a receiver.</p> <div class="rule" id="r-lang-types.pin">
<a class="rule-link" href="#r-lang-types.pin" title="lang-types.pin"><span>[lang-types<wbr>.pin]</wbr></span></a> </div> <h2 id="pinp"><code id="">Pin&lt;P&gt;</code></h2> <div class="rule" id="r-lang-types.pin.receiver">
<a class="rule-link" href="#r-lang-types.pin.receiver" title="lang-types.pin.receiver"><span>[lang-types<wbr>.pin<wbr>.receiver]</wbr></wbr></span></a> </div> <p><a href="items/associated-items#associated-functions-and-methods">Methods</a> can take <a href="https://doc.rust-lang.org/core/pin/struct.Pin.html"><code>Pin&lt;P&gt;</code></a> as a receiver.</p> <div class="rule" id="r-lang-types.unsafe-cell">
<a class="rule-link" href="#r-lang-types.unsafe-cell" title="lang-types.unsafe-cell"><span>[lang-types<wbr>.unsafe-cell]</wbr></span></a> </div> <h2 id="unsafecellt"><code id="">UnsafeCell&lt;T&gt;</code></h2> <div class="rule" id="r-lang-types.unsafe-cell.interior-mut">
<a class="rule-link" href="#r-lang-types.unsafe-cell.interior-mut" title="lang-types.unsafe-cell.interior-mut"><span>[lang-types<wbr>.unsafe-cell<wbr>.interior-mut]</wbr></wbr></span></a> </div> <p><a href="https://doc.rust-lang.org/core/cell/struct.UnsafeCell.html"><code>std::cell::UnsafeCell&lt;T&gt;</code></a> is used for <a href="interior-mutability">interior mutability</a>. It ensures that the compiler doesn’t perform optimisations that are incorrect for such types.</p> <div class="rule" id="r-lang-types.unsafe-cell.read-only-alloc">
<a class="rule-link" href="#r-lang-types.unsafe-cell.read-only-alloc" title="lang-types.unsafe-cell.read-only-alloc"><span>[lang-types<wbr>.unsafe-cell<wbr>.read-only-alloc]</wbr></wbr></span></a> </div> <p>It also ensures that <a href="items/static-items"><code>static</code> items</a> which have a type with interior mutability aren’t placed in memory marked as read only.</p> <div class="rule" id="r-lang-types.phantom-data">
<a class="rule-link" href="#r-lang-types.phantom-data" title="lang-types.phantom-data"><span>[lang-types<wbr>.phantom-data]</wbr></span></a> </div> <h2 id="phantomdatat"><code id="">PhantomData&lt;T&gt;</code></h2> <p><a href="https://doc.rust-lang.org/core/marker/struct.PhantomData.html"><code>std::marker::PhantomData&lt;T&gt;</code></a> is a zero-sized, minimum alignment, type that is considered to own a <code>T</code> for the purposes of <a href="subtyping#variance">variance</a>, <a href="https://doc.rust-lang.org/nomicon/dropck.html">drop check</a>, and <a href="#auto-traits">auto traits</a>.</p> <div class="rule" id="r-lang-types.ops">
<a class="rule-link" href="#r-lang-types.ops" title="lang-types.ops"><span>[lang-types<wbr>.ops]</wbr></span></a> </div> <h2 id="operator-traits">Operator Traits</h2> <p>The traits in <a href="https://doc.rust-lang.org/core/ops/index.html"><code>std::ops</code></a> and <a href="https://doc.rust-lang.org/core/cmp/index.html"><code>std::cmp</code></a> are used to overload <a href="expressions/operator-expr">operators</a>, <a href="expressions/array-expr#array-and-slice-indexing-expressions">indexing expressions</a>, and <a href="expressions/call-expr">call expressions</a>.</p> <div class="rule" id="r-lang-types.deref">
<a class="rule-link" href="#r-lang-types.deref" title="lang-types.deref"><span>[lang-types<wbr>.deref]</wbr></span></a> </div> <h2 id="deref-and-derefmut">
<code id="">Deref</code> and <code>DerefMut</code>
</h2> <p>As well as overloading the unary <code>*</code> operator, <a href="https://doc.rust-lang.org/core/ops/deref/trait.Deref.html"><code>Deref</code></a> and <a href="https://doc.rust-lang.org/core/ops/deref/trait.DerefMut.html"><code>DerefMut</code></a> are also used in <a href="expressions/method-call-expr">method resolution</a> and <a href="type-coercions#coercion-types">deref coercions</a>.</p> <div class="rule" id="r-lang-types.drop">
<a class="rule-link" href="#r-lang-types.drop" title="lang-types.drop"><span>[lang-types<wbr>.drop]</wbr></span></a> </div> <h2 id="drop"><code id="">Drop</code></h2> <p>The <a href="https://doc.rust-lang.org/core/ops/drop/trait.Drop.html"><code>Drop</code></a> trait provides a <a href="destructors">destructor</a>, to be run whenever a value of this type is to be destroyed.</p> <div class="rule" id="r-lang-types.copy">
<a class="rule-link" href="#r-lang-types.copy" title="lang-types.copy"><span>[lang-types<wbr>.copy]</wbr></span></a> </div> <h2 id="copy"><code id="">Copy</code></h2> <div class="rule" id="r-lang-types.copy.intro">
<a class="rule-link" href="#r-lang-types.copy.intro" title="lang-types.copy.intro"><span>[lang-types<wbr>.copy<wbr>.intro]</wbr></wbr></span></a> </div> <p>The <a href="https://doc.rust-lang.org/core/marker/trait.Copy.html"><code>Copy</code></a> trait changes the semantics of a type implementing it.</p> <div class="rule" id="r-lang-types.copy.behavior">
<a class="rule-link" href="#r-lang-types.copy.behavior" title="lang-types.copy.behavior"><span>[lang-types<wbr>.copy<wbr>.behavior]</wbr></wbr></span></a> </div> <p>Values whose type implements <code>Copy</code> are copied rather than moved upon assignment.</p> <div class="rule" id="r-lang-types.copy.constraint">
<a class="rule-link" href="#r-lang-types.copy.constraint" title="lang-types.copy.constraint"><span>[lang-types<wbr>.copy<wbr>.constraint]</wbr></wbr></span></a> </div> <p><code>Copy</code> can only be implemented for types which do not implement <code>Drop</code>, and whose fields are all <code>Copy</code>. For enums, this means all fields of all variants have to be <code>Copy</code>. For unions, this means all variants have to be <code>Copy</code>.</p> <div class="rule" id="r-lang-types.copy.builtin-types">
<a class="rule-link" href="#r-lang-types.copy.builtin-types" title="lang-types.copy.builtin-types"><span>[lang-types<wbr>.copy<wbr>.builtin-types]</wbr></wbr></span></a> </div> <p><code>Copy</code> is implemented by the compiler for</p> <div class="rule" id="r-lang-types.copy.tuple">
<a class="rule-link" href="#r-lang-types.copy.tuple" title="lang-types.copy.tuple"><span>[lang-types<wbr>.copy<wbr>.tuple]</wbr></wbr></span></a> </div> <ul> <li>
<a href="types/tuple">Tuples</a> of <code>Copy</code> types</li> </ul> <div class="rule" id="r-lang-types.copy.fn-pointer">
<a class="rule-link" href="#r-lang-types.copy.fn-pointer" title="lang-types.copy.fn-pointer"><span>[lang-types<wbr>.copy<wbr>.fn-pointer]</wbr></wbr></span></a> </div> <ul> <li><a href="types/function-pointer">Function pointers</a></li> </ul> <div class="rule" id="r-lang-types.copy.fn-item">
<a class="rule-link" href="#r-lang-types.copy.fn-item" title="lang-types.copy.fn-item"><span>[lang-types<wbr>.copy<wbr>.fn-item]</wbr></wbr></span></a> </div> <ul> <li><a href="types/function-item">Function items</a></li> </ul> <div class="rule" id="r-lang-types.copy.closure">
<a class="rule-link" href="#r-lang-types.copy.closure" title="lang-types.copy.closure"><span>[lang-types<wbr>.copy<wbr>.closure]</wbr></wbr></span></a> </div> <ul> <li>
<a href="types/closure">Closures</a> that capture no values or that only capture values of <code>Copy</code> types</li> </ul> <div class="rule" id="r-lang-types.clone">
<a class="rule-link" href="#r-lang-types.clone" title="lang-types.clone"><span>[lang-types<wbr>.clone]</wbr></span></a> </div> <h2 id="clone"><code id="">Clone</code></h2> <div class="rule" id="r-lang-types.clone.intro">
<a class="rule-link" href="#r-lang-types.clone.intro" title="lang-types.clone.intro"><span>[lang-types<wbr>.clone<wbr>.intro]</wbr></wbr></span></a> </div> <p>The <a href="https://doc.rust-lang.org/core/clone/trait.Clone.html"><code>Clone</code></a> trait is a supertrait of <code>Copy</code>, so it also needs compiler generated implementations.</p> <div class="rule" id="r-lang-types.clone.builtin-types">
<a class="rule-link" href="#r-lang-types.clone.builtin-types" title="lang-types.clone.builtin-types"><span>[lang-types<wbr>.clone<wbr>.builtin-types]</wbr></wbr></span></a> </div> <p>It is implemented by the compiler for the following types:</p> <div class="rule" id="r-lang-types.clone.builtin-copy">
<a class="rule-link" href="#r-lang-types.clone.builtin-copy" title="lang-types.clone.builtin-copy"><span>[lang-types<wbr>.clone<wbr>.builtin-copy]</wbr></wbr></span></a> </div> <ul> <li>Types with a built-in <code>Copy</code> implementation (see above)</li> </ul> <div class="rule" id="r-lang-types.clone.tuple">
<a class="rule-link" href="#r-lang-types.clone.tuple" title="lang-types.clone.tuple"><span>[lang-types<wbr>.clone<wbr>.tuple]</wbr></wbr></span></a> </div> <ul> <li>
<a href="types/tuple">Tuples</a> of <code>Clone</code> types</li> </ul> <div class="rule" id="r-lang-types.clone.closure">
<a class="rule-link" href="#r-lang-types.clone.closure" title="lang-types.clone.closure"><span>[lang-types<wbr>.clone<wbr>.closure]</wbr></wbr></span></a> </div> <ul> <li>
<a href="types/closure">Closures</a> that only capture values of <code>Clone</code> types or capture no values from the environment</li> </ul> <div class="rule" id="r-lang-types.send">
<a class="rule-link" href="#r-lang-types.send" title="lang-types.send"><span>[lang-types<wbr>.send]</wbr></span></a> </div> <h2 id="send"><code id="">Send</code></h2> <p>The <a href="https://doc.rust-lang.org/core/marker/trait.Send.html"><code>Send</code></a> trait indicates that a value of this type is safe to send from one thread to another.</p> <div class="rule" id="r-lang-types.sync">
<a class="rule-link" href="#r-lang-types.sync" title="lang-types.sync"><span>[lang-types<wbr>.sync]</wbr></span></a> </div> <h2 id="sync"><code id="">Sync</code></h2> <div class="rule" id="r-lang-types.sync.intro">
<a class="rule-link" href="#r-lang-types.sync.intro" title="lang-types.sync.intro"><span>[lang-types<wbr>.sync<wbr>.intro]</wbr></wbr></span></a> </div> <p>The <a href="https://doc.rust-lang.org/core/marker/trait.Sync.html"><code>Sync</code></a> trait indicates that a value of this type is safe to share between multiple threads.</p> <div class="rule" id="r-lang-types.sync.static-constraint">
<a class="rule-link" href="#r-lang-types.sync.static-constraint" title="lang-types.sync.static-constraint"><span>[lang-types<wbr>.sync<wbr>.static-constraint]</wbr></wbr></span></a> </div> <p>This trait must be implemented for all types used in immutable <a href="items/static-items"><code>static</code> items</a>.</p> <div class="rule" id="r-lang-types.termination">
<a class="rule-link" href="#r-lang-types.termination" title="lang-types.termination"><span>[lang-types<wbr>.termination]</wbr></span></a> </div> <h2 id="termination"><code id="">Termination</code></h2> <p>The <a href="../std/process/trait.termination"><code>Termination</code></a> trait indicates the acceptable return types for the <a href="crates-and-source-files#main-functions">main function</a> and <a href="attributes/testing#the-test-attribute">test functions</a>.</p> <div class="rule" id="r-lang-types.auto-traits">
<a class="rule-link" href="#r-lang-types.auto-traits" title="lang-types.auto-traits"><span>[lang-types<wbr>.auto-traits]</wbr></span></a> </div> <h2 id="auto-traits">Auto traits</h2> <p>The <a href="https://doc.rust-lang.org/core/marker/trait.Send.html"><code>Send</code></a>, <a href="https://doc.rust-lang.org/core/marker/trait.Sync.html"><code>Sync</code></a>, <a href="https://doc.rust-lang.org/core/marker/trait.Unpin.html"><code>Unpin</code></a>, <a href="https://doc.rust-lang.org/core/panic/unwind_safe/trait.UnwindSafe.html"><code>UnwindSafe</code></a>, and <a href="https://doc.rust-lang.org/core/panic/unwind_safe/trait.RefUnwindSafe.html"><code>RefUnwindSafe</code></a> traits are <em>auto traits</em>. Auto traits have special properties.</p> <div class="rule" id="r-lang-types.auto-traits.auto-impl">
<a class="rule-link" href="#r-lang-types.auto-traits.auto-impl" title="lang-types.auto-traits.auto-impl"><span>[lang-types<wbr>.auto-traits<wbr>.auto-impl]</wbr></wbr></span></a> </div> <p>If no explicit implementation or negative implementation is written out for an auto trait for a given type, then the compiler implements it automatically according to the following rules:</p> <div class="rule" id="r-lang-types.auto-traits.builtin-composite">
<a class="rule-link" href="#r-lang-types.auto-traits.builtin-composite" title="lang-types.auto-traits.builtin-composite"><span>[lang-types<wbr>.auto-traits<wbr>.builtin-composite]</wbr></wbr></span></a> </div> <ul> <li>
<code>&amp;T</code>, <code>&amp;mut T</code>, <code>*const T</code>, <code>*mut T</code>, <code>[T; n]</code>, and <code>[T]</code> implement the trait if <code>T</code> does.</li> </ul> <div class="rule" id="r-lang-types.auto-traits.fn-item-pointer">
<a class="rule-link" href="#r-lang-types.auto-traits.fn-item-pointer" title="lang-types.auto-traits.fn-item-pointer"><span>[lang-types<wbr>.auto-traits<wbr>.fn-item-pointer]</wbr></wbr></span></a> </div> <ul> <li>Function item types and function pointers automatically implement the trait.</li> </ul> <div class="rule" id="r-lang-types.auto-traits.aggregate">
<a class="rule-link" href="#r-lang-types.auto-traits.aggregate" title="lang-types.auto-traits.aggregate"><span>[lang-types<wbr>.auto-traits<wbr>.aggregate]</wbr></wbr></span></a> </div> <ul> <li>Structs, enums, unions, and tuples implement the trait if all of their fields do.</li> </ul> <div class="rule" id="r-lang-types.auto-traits.closure">
<a class="rule-link" href="#r-lang-types.auto-traits.closure" title="lang-types.auto-traits.closure"><span>[lang-types<wbr>.auto-traits<wbr>.closure]</wbr></wbr></span></a> </div> <ul> <li>Closures implement the trait if the types of all of their captures do. A closure that captures a <code>T</code> by shared reference and a <code>U</code> by value implements any auto traits that both <code>&amp;T</code> and <code>U</code> do.</li> </ul> <div class="rule" id="r-lang-types.auto-traits.generic-impl">
<a class="rule-link" href="#r-lang-types.auto-traits.generic-impl" title="lang-types.auto-traits.generic-impl"><span>[lang-types<wbr>.auto-traits<wbr>.generic-impl]</wbr></wbr></span></a> </div> <p>For generic types (counting the built-in types above as generic over <code>T</code>), if a generic implementation is available, then the compiler does not automatically implement it for types that could use the implementation except that they do not meet the requisite trait bounds. For instance, the standard library implements <code>Send</code> for all <code>&amp;T</code> where <code>T</code> is <code>Sync</code>; this means that the compiler will not implement <code>Send</code> for <code>&amp;T</code> if <code>T</code> is <code>Send</code> but not <code>Sync</code>.</p> <div class="rule" id="r-lang-types.auto-traits.negative">
<a class="rule-link" href="#r-lang-types.auto-traits.negative" title="lang-types.auto-traits.negative"><span>[lang-types<wbr>.auto-traits<wbr>.negative]</wbr></wbr></span></a> </div> <p>Auto traits can also have negative implementations, shown as <code>impl !AutoTrait for T</code> in the standard library documentation, that override the automatic implementations. For example <code>*mut T</code> has a negative implementation of <code>Send</code>, and so <code>*mut T</code> is not <code>Send</code>, even if <code>T</code> is. There is currently no stable way to specify additional negative implementations; they exist only in the standard library.</p> <div class="rule" id="r-lang-types.auto-traits.trait-object-marker">
<a class="rule-link" href="#r-lang-types.auto-traits.trait-object-marker" title="lang-types.auto-traits.trait-object-marker"><span>[lang-types<wbr>.auto-traits<wbr>.trait-object-marker]</wbr></wbr></span></a> </div> <p>Auto traits may be added as an additional bound to any <a href="types/trait-object">trait object</a>, even though normally only one trait is allowed. For instance, <code>Box&lt;dyn Debug + Send + UnwindSafe&gt;</code> is a valid type.</p> <div class="rule" id="r-lang-types.sized">
<a class="rule-link" href="#r-lang-types.sized" title="lang-types.sized"><span>[lang-types<wbr>.sized]</wbr></span></a> </div> <h2 id="sized"><code id="">Sized</code></h2> <div class="rule" id="r-lang-types.sized.intro">
<a class="rule-link" href="#r-lang-types.sized.intro" title="lang-types.sized.intro"><span>[lang-types<wbr>.sized<wbr>.intro]</wbr></wbr></span></a> </div> <p>The <a href="https://doc.rust-lang.org/core/marker/trait.Sized.html"><code>Sized</code></a> trait indicates that the size of this type is known at compile-time; that is, it’s not a <a href="dynamically-sized-types">dynamically sized type</a>.</p> <div class="rule" id="r-lang-types.sized.implicit-sized">
<a class="rule-link" href="#r-lang-types.sized.implicit-sized" title="lang-types.sized.implicit-sized"><span>[lang-types<wbr>.sized<wbr>.implicit-sized]</wbr></wbr></span></a> </div> <p><a href="types/parameters">Type parameters</a> (except <code>Self</code> in traits) are <code>Sized</code> by default, as are <a href="items/associated-items#associated-types">associated types</a>.</p> <div class="rule" id="r-lang-types.sized.implicit-impl">
<a class="rule-link" href="#r-lang-types.sized.implicit-impl" title="lang-types.sized.implicit-impl"><span>[lang-types<wbr>.sized<wbr>.implicit-impl]</wbr></wbr></span></a> </div> <p><code>Sized</code> is always implemented automatically by the compiler, not by <a href="items/implementations">implementation items</a>.</p> <div class="rule" id="r-lang-types.sized.relaxation">
<a class="rule-link" href="#r-lang-types.sized.relaxation" title="lang-types.sized.relaxation"><span>[lang-types<wbr>.sized<wbr>.relaxation]</wbr></wbr></span></a> </div> <p>These implicit <code>Sized</code> bounds may be relaxed by using the special <code>?Sized</code> bound.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/special-types-and-traits.html" class="_attribution-link">https://doc.rust-lang.org/reference/special-types-and-traits.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="../assets/index.js"></script>
</body>

</html>