<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>.. Layout and bit validity</title>
    
    <link rel="preload" href="../../assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="../../application.css" />
    <link rel="stylesheet" type="text/css" href="../../assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="reference/types/textual" prefix="../../" listing-src="../../navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _rust"><h1 class="rule" id="r-type.text">
<a class="rule-link" href="#r-type.text" title="type.text"><span>[type<wbr>.text]</wbr></span></a> </h1> <h1 id="textual-types">Textual types</h1> <div class="rule" id="r-type.text.intro">
<a class="rule-link" href="#r-type.text.intro" title="type.text.intro"><span>[type<wbr>.text<wbr>.intro]</wbr></wbr></span></a> </div> <p>The types <code>char</code> and <code>str</code> hold textual data.</p> <div class="rule" id="r-type.text.char-value">
<a class="rule-link" href="#r-type.text.char-value" title="type.text.char-value"><span>[type<wbr>.text<wbr>.char-value]</wbr></wbr></span></a> </div> <p>A value of type <code>char</code> is a <a href="http://www.unicode.org/glossary/#unicode_scalar_value">Unicode scalar value</a> (i.e. a code point that is not a surrogate), represented as a 32-bit unsigned word in the 0x0000 to 0xD7FF or 0xE000 to 0x10FFFF range.</p> <div class="rule" id="r-type.text.char-precondition">
<a class="rule-link" href="#r-type.text.char-precondition" title="type.text.char-precondition"><span>[type<wbr>.text<wbr>.char-precondition]</wbr></wbr></span></a> </div> <p>It is immediate <a href="../behavior-considered-undefined">undefined behavior</a> to create a <code>char</code> that falls outside this range. A <code>[char]</code> is effectively a UCS-4 / UTF-32 string of length 1.</p> <div class="rule" id="r-type.text.str-value">
<a class="rule-link" href="#r-type.text.str-value" title="type.text.str-value"><span>[type<wbr>.text<wbr>.str-value]</wbr></wbr></span></a> </div> <p>A value of type <code>str</code> is represented the same way as <code>[u8]</code>, a slice of 8-bit unsigned bytes. However, the Rust standard library makes extra assumptions about <code>str</code>: methods working on <code>str</code> assume and ensure that the data in there is valid UTF-8. Calling a <code>str</code> method with a non-UTF-8 buffer can cause <a href="../behavior-considered-undefined">undefined behavior</a> now or in the future.</p> <div class="rule" id="r-type.text.str-unsized">
<a class="rule-link" href="#r-type.text.str-unsized" title="type.text.str-unsized"><span>[type<wbr>.text<wbr>.str-unsized]</wbr></wbr></span></a> </div> <p>Since <code>str</code> is a <a href="../dynamically-sized-types">dynamically sized type</a>, it can only be instantiated through a pointer type, such as <code>&amp;str</code>.</p> <div class="rule" id="r-type.text.layout">
<a class="rule-link" href="#r-type.text.layout" title="type.text.layout"><span>[type<wbr>.text<wbr>.layout]</wbr></wbr></span></a> </div> <h2 id="layout-and-bit-validity">Layout and bit validity</h2> <div class="rule" id="r-type.layout.char-layout">
<a class="rule-link" href="#r-type.layout.char-layout" title="type.layout.char-layout"><span>[type<wbr>.layout<wbr>.char-layout]</wbr></wbr></span></a> </div> <p><code>char</code> is guaranteed to have the same size and alignment as <code>u32</code> on all platforms.</p> <div class="rule" id="r-type.layout.char-validity">
<a class="rule-link" href="#r-type.layout.char-validity" title="type.layout.char-validity"><span>[type<wbr>.layout<wbr>.char-validity]</wbr></wbr></span></a> </div> <p>Every byte of a <code>char</code> is guaranteed to be initialized (in other words, <code>transmute::&lt;char, [u8; size_of::&lt;char&gt;()]&gt;(...)</code> is always sound â€“ but since some bit patterns are invalid <code>char</code>s, the inverse is not always sound).</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/types/textual.html" class="_attribution-link">https://doc.rust-lang.org/reference/types/textual.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="../../assets/index.js"></script>
</body>

</html>