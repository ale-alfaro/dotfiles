<html class="_theme-default">
<head>
    <meta charset="utf-8">
    <title>.. Disambiguating Function Calls</title>
    
    <link rel="preload" href="../../assets/index.js" as="script" type="text/javascript" />

    <link rel="stylesheet" type="text/css" href="../../application.css" />
    <link rel="stylesheet" type="text/css" href="../../assets/index.css" />
</head>
<body>
    <div class="_app">
        <devdocs-navbar current="reference/expressions/call-expr" prefix="../../" listing-src="../../navbar.json"></devdocs-navbar>
        <div class="_container">
            <main class="_content">
                <div class="_page _rust"><h1 class="rule" id="r-expr.call">
<a class="rule-link" href="#r-expr.call" title="expr.call"><span>[expr<wbr>.call]</wbr></span></a> </h1> <h1 id="call-expressions">Call expressions</h1> <div class="rule" id="r-expr.call.syntax">
<a class="rule-link" href="#r-expr.call.syntax" title="expr.call.syntax"><span>[expr<wbr>.call<wbr>.syntax]</wbr></wbr></span></a> </div> <div class="grammar-container"> <p><strong><sup>Syntax</sup></strong> <br> <span class="grammar-text grammar-production" id="grammar-CallExpression" onclick="show_railroad()"><a href="call-expr#railroad-CallExpression">CallExpression</a></span> → <span class="grammar-text"><a href="../expressions#grammar-Expression">Expression</a></span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="call-expr#grammar-CallParams">CallParams</a></span><sup>?</sup> <span class="grammar-literal">)</span></p> <p><span class="grammar-text grammar-production" id="grammar-CallParams" onclick="show_railroad()"><a href="call-expr#railroad-CallParams">CallParams</a></span> → <span class="grammar-text"><a href="../expressions#grammar-Expression">Expression</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="../expressions#grammar-Expression">Expression</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup></p> <p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p> </div> <div class="grammar-railroad grammar-hidden"> <div style="width: 404px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-CallExpression">
<svg class="railroad" viewbox="0 0 404 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">  <g class="verticalgrid"> <a class="link" xlink:href="call-expr.html#grammar-CallExpression"> <text class="comment" x="64" y="25"> CallExpression</text> </a> <g class="sequence">  <g class="sequence"> <a class="link" xlink:href="../expressions.html#railroad-Expression"> <g class="nonterminal">  <text x="85" y="71"> Expression</text> </g> </a> <g class="terminal">  <text x="159" y="71"> (</text> </g> <g class="optional">  <a class="link" xlink:href="call-expr.html#railroad-CallParams"> <g class="nonterminal">  <text x="257" y="71"> CallParams</text> </g> </a> </g> <g class="terminal">  <text x="355" y="71"> )</text> </g>    </g>    </g> </g> </svg> </div> <div style="width: 476px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-CallParams">
<svg class="railroad" viewbox="0 0 476 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">  <g class="verticalgrid"> <a class="link" xlink:href="call-expr.html#grammar-CallParams"> <text class="comment" x="50" y="25"> CallParams</text> </a> <g class="sequence">  <g class="sequence"> <a class="link" xlink:href="../expressions.html#railroad-Expression"> <g class="nonterminal">  <text x="85" y="71"> Expression</text> </g> </a> <g class="optional">  <g class="repeat">   <g class="sequence"> <g class="terminal">  <text x="195" y="71"> ,</text> </g> <a class="link" xlink:href="../expressions.html#railroad-Expression"> <g class="nonterminal">  <text x="269" y="71"> Expression</text> </g> </a>  </g> </g> </g> <g class="optional">  <g class="terminal">  <text x="403" y="71"> ,</text> </g> </g>   </g>    </g> </g> </svg> </div> </div> <div class="rule" id="r-expr.call.intro">
<a class="rule-link" href="#r-expr.call.intro" title="expr.call.intro"><span>[expr<wbr>.call<wbr>.intro]</wbr></wbr></span></a> </div> <p>A <em>call expression</em> calls a function. The syntax of a call expression is an expression, called the <em>function operand</em>, followed by a parenthesized comma-separated list of expression, called the <em>argument operands</em>.</p> <div class="rule" id="r-expr.call.convergence">
<a class="rule-link" href="#r-expr.call.convergence" title="expr.call.convergence"><span>[expr<wbr>.call<wbr>.convergence]</wbr></wbr></span></a> </div> <p>If the function eventually returns, then the expression completes.</p> <div class="rule" id="r-expr.call.trait">
<a class="rule-link" href="#r-expr.call.trait" title="expr.call.trait"><span>[expr<wbr>.call<wbr>.trait]</wbr></wbr></span></a> </div> <p>For <a href="../types/function-item">non-function types</a>, the expression <code>f(...)</code> uses the method on one of the following traits based on the function operand:</p> <ul> <li>
<a href="https://doc.rust-lang.org/core/ops/function/trait.Fn.html"><code>Fn</code></a> or <a href="https://doc.rust-lang.org/core/ops/async_function/trait.AsyncFn.html"><code>AsyncFn</code></a> — shared reference.</li> <li>
<a href="https://doc.rust-lang.org/core/ops/function/trait.FnMut.html"><code>FnMut</code></a> or <a href="https://doc.rust-lang.org/core/ops/async_function/trait.AsyncFnMut.html"><code>AsyncFnMut</code></a> — mutable reference.</li> <li>
<a href="https://doc.rust-lang.org/core/ops/function/trait.FnOnce.html"><code>FnOnce</code></a> or <a href="https://doc.rust-lang.org/core/ops/async_function/trait.AsyncFnOnce.html"><code>AsyncFnOnce</code></a> — value.</li> </ul> <div class="rule" id="r-expr.call.autoref-deref">
<a class="rule-link" href="#r-expr.call.autoref-deref" title="expr.call.autoref-deref"><span>[expr<wbr>.call<wbr>.autoref-deref]</wbr></wbr></span></a> </div> <p>An automatic borrow will be taken if needed. The function operand will also be <a href="field-expr#automatic-dereferencing">automatically dereferenced</a> as required.</p> <p>Some examples of call expressions:</p> <pre data-language="rust">#![allow(unused)]
fn main() {
fn add(x: i32, y: i32) -&gt; i32 { 0 }
let three: i32 = add(1i32, 2i32);
let name: &amp;'static str = (|| "Rust")();
}</pre> <div class="rule" id="r-expr.call.desugar">
<a class="rule-link" href="#r-expr.call.desugar" title="expr.call.desugar"><span>[expr<wbr>.call<wbr>.desugar]</wbr></wbr></span></a> </div> <h2 id="disambiguating-function-calls">Disambiguating Function Calls</h2> <div class="rule" id="r-expr.call.desugar.fully-qualified">
<a class="rule-link" href="#r-expr.call.desugar.fully-qualified" title="expr.call.desugar.fully-qualified"><span>[expr<wbr>.call<wbr>.desugar<wbr>.fully-qualified]</wbr></wbr></wbr></span></a> </div> <p>All function calls are sugar for a more explicit <a href="../paths#qualified-paths">fully-qualified syntax</a>.</p> <div class="rule" id="r-expr.call.desugar.ambiguity">
<a class="rule-link" href="#r-expr.call.desugar.ambiguity" title="expr.call.desugar.ambiguity"><span>[expr<wbr>.call<wbr>.desugar<wbr>.ambiguity]</wbr></wbr></wbr></span></a> </div> <p>Function calls may need to be fully qualified, depending on the ambiguity of a call in light of in-scope items.</p> <div class="alert alert-note"> <blockquote> <p class="alert-title">Note</p> <p>In the past, the terms “Unambiguous Function Call Syntax”, “Universal Function Call Syntax”, or “UFCS”, have been used in documentation, issues, RFCs, and other community writings. However, these terms lack descriptive power and potentially confuse the issue at hand. We mention them here for searchability’s sake.</p> </blockquote> </div> <div class="rule" id="r-expr.call.desugar.limits">
<a class="rule-link" href="#r-expr.call.desugar.limits" title="expr.call.desugar.limits"><span>[expr<wbr>.call<wbr>.desugar<wbr>.limits]</wbr></wbr></wbr></span></a> </div> <p>Several situations often occur which result in ambiguities about the receiver or referent of method or associated function calls. These situations may include:</p> <ul> <li>Multiple in-scope traits define methods with the same name for the same types</li> <li>Auto-<code>deref</code> is undesirable; for example, distinguishing between methods on a smart pointer itself and the pointer’s referent</li> <li>Methods which take no arguments, like <a href="https://doc.rust-lang.org/core/default/trait.Default.html#tymethod.default"><code>default()</code></a>, and return properties of a type, like <a href="https://doc.rust-lang.org/core/mem/fn.size_of.html"><code>size_of()</code></a>
</li> </ul> <div class="rule" id="r-expr.call.desugar.explicit-path">
<a class="rule-link" href="#r-expr.call.desugar.explicit-path" title="expr.call.desugar.explicit-path"><span>[expr<wbr>.call<wbr>.desugar<wbr>.explicit-path]</wbr></wbr></wbr></span></a> </div> <p>To resolve the ambiguity, the programmer may refer to their desired method or function using more specific paths, types, or traits.</p> <p>For example,</p> <pre data-language="rust">trait Pretty {
    fn print(&amp;self);
}

trait Ugly {
    fn print(&amp;self);
}

struct Foo;
impl Pretty for Foo {
    fn print(&amp;self) {}
}

struct Bar;
impl Pretty for Bar {
    fn print(&amp;self) {}
}
impl Ugly for Bar {
    fn print(&amp;self) {}
}

fn main() {
    let f = Foo;
    let b = Bar;

    // we can do this because we only have one item called `print` for `Foo`s
    f.print();
    // more explicit, and, in the case of `Foo`, not necessary
    Foo::print(&amp;f);
    // if you're not into the whole brevity thing
    &lt;Foo as Pretty&gt;::print(&amp;f);

    // b.print(); // Error: multiple 'print' found
    // Bar::print(&amp;b); // Still an error: multiple `print` found

    // necessary because of in-scope items defining `print`
    &lt;Bar as Pretty&gt;::print(&amp;b);
}</pre> <p>Refer to <a href="https://github.com/rust-lang/rfcs/blob/master/text/0132-ufcs.md">RFC 132</a> for further details and motivations.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 The Rust Project Developers<br>Licensed under the Apache License, Version 2.0 or the MIT license, at your option.<br>
    <a href="https://doc.rust-lang.org/reference/expressions/call-expr.html" class="_attribution-link">https://doc.rust-lang.org/reference/expressions/call-expr.html</a>
  </p>
</div>
</div>
            </main>
        </div>
    </div>
    <script type="text/javascript" src="../../assets/index.js"></script>
</body>

</html>